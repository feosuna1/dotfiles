[alias]
	# My hold overs from svn days
	st = status
	ci = commit
	co = checkout

	# Retrieve everything from all remotes, pruning local branches
	fetch-all = fetch --all --prune

	# List aliases.
	aliases = !git config --get-regexp alias | sort

	# Amend the currently staged files to the latest commit.
	amend = commit --amend --no-edit

	# Show the user email for the current repository.
	whoami = config user.email

	# Constant rebasing causes a bunch of unreachable commit. This removes
	# those commits: <https://stackoverflow.com/questions/3765234/listing-and-deleting-git-commits-that-are-under-no-branch-dangling/37335660#37335660>
	remove-unreachable-commits = !git reflog expire --expire-unreachable=now --all --updateref --rewrite --stale-fix && git gc --aggressive --prune=now

[apply]
	# Detect whitespace errors when applying a patch.
	whitespace = fix

[branch]
	autosetuprebase = always

[core]
	# Use custom `.gitignore`
	excludesfile = ~/.dotfiles/files/config/git/ignore

	# Treat spaces before tabs and all kinds of trailing whitespace as an error.
	# [default] trailing-space: looks for spaces at the end of a line
	# [default] space-before-tab: looks for spaces before tabs at the beginning of a line
	whitespace = space-before-tab,-indent-with-non-tab,trailing-space

	# Make `git rebase` safer on macOS.
	# More info: http://www.git-tower.com/blog/make-git-rebase-safe-on-osx/
	trustctime = false

	# Prevent showing files whose names contain non-ASCII symbols as unversioned.
	# http://michael-kuehnel.de/git/2014/11/21/git-mac-osx-and-german-umlaute.html
	precomposeunicode = false

	# `git branch` is difficult to use with less (see https://stackoverflow.com/a/49862151).
	# This makes interactions that require paging a bit more reasonable.
	pager = less -FRX

[diff]
	# Detect copies as well as renames.
	renames = copy
	tool = Kaleidoscope

[diff "bin"]
	# Use `hexdump` to diff binary files.
	textconv = hexdump -v -C

[difftool "Kaleidoscope"]
	cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"

[difftool]
	prompt = false
	trustExitCode = true

[init]
	templatedir = ~/.dotfiles/files/config/git/template

[merge]
	# Shows old, new, and ancestor when highlighting a conflict
	conflictstyle = diff3
	tool = Kaleidoscope

[mergetool]
	prompt = false

[mergetool "Sublime Merge"]
	cmd = smerge mergetool \"$BASE\" \"$REMOTE\" \"$LOCAL\" -o \"$MERGED\"

[mergetool "Kaleidoscope"]
	cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" --snapshot \"$REMOTE\" --snapshot
	trustExitCode = true

[rebase]
	autosquash = true

[rerere]
	enabled = true

[user]
	name = Enrique Osuna
	email = 12620+feosuna1@users.noreply.github.com
